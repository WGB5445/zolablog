<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width,initial-scale=1">
    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js"></script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.core.min.js"></script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>

    <link rel="icon" href="https://wgb5445.github.io/zolablog/favicon.ico?h=bcf75587c3882a146073ec43645bfa1ccec5fff806187079ead945701579a221">
    <script defer="defer" src="https://wgb5445.github.io/zolablog/index_bundle.js?h=76e5e73b22430eb465533eaefdebd3890a944b6f5799ace7fe78ac796ee1701c">

    </script>
    <link href="https://wgb5445.github.io/zolablog/main.css?h=569f495c8ed1633695d06b78cbe9a797a0711a8eb32642a69ca11bac14d8a7b0" rel="stylesheet">
  </head>
  <title>WGB's Blog</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog">WGB'小破站</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/blog">Blog</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/tools">Tool</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/about">About</a>
              </li>
            </ul>
            <button class="btn btn-outline-success me-2" id="wallet_connect" type="button">Connect</button>
          </div>
        </div>
    </nav>
    
<div style="background-color: #e4e6eb;">
    <div class="container-xxl">
      <div class="row">
        <div class="col-8"  style="background-color: #ffffff;">
          
          <h1 class="title">
            
          </h1>
  
          


  <h1 class="title" style="padding-bottom: 4px;font-size: 2.5em;line-height: 1.5;">
    Solidity-1 简要概述
  </h1>
  <p class="subtitle"><strong>2022-07-10T10:00:46</strong></p>
  <div data-bs-spy="scroll" data-bs-target="#navbar-example3" data-bs-smooth-scroll="true" class="scrollspy-example-2" tabindex="0" >
    <article>
      <p>Solidity 是一种面向合约的高级编程语言，用于实现智能合约。Solidity 受到 C++，Python和JavaScript 的影响，旨在针对以太坊虚拟机（EVM）。</p>
<h2 id="shi-yao-shi-yi-tai-fang">什么是以太坊？</h2>
<p>以太坊是一个分布式的区块链平台可以运行智能合约，可以编写按照编程运行的应用程序。</p>
<h2 id="yi-tai-fang-xu-ni-ji-evm">以太坊虚拟机 （EVM）</h2>
<p>以太坊虚拟机，也称为 EVM ，是以太坊智能合约的运行时环境。以太坊虚拟机专注于提供安全性，并由世界各地的计算机执行不受信任的代码。</p>
<p>EVM专门防止拒绝服务攻击，并确保程序无法访问彼此的状态，确保可以在没有任何潜在干扰的情况下建立通信。</p>
<p>以太坊虚拟机被设计为基于以太坊的智能合约的运行时环境。</p>
<h2 id="shi-yao-shi-zhi-neng-he-yue">什么是智能合约？</h2>
<p>智能合约是一种计算机协议，旨在以数字方式促进，验证或执行合同的谈判或履行。智能合约允许在没有第三方的情况下执行可信的交易。这些交易是可跟踪和不可逆的。</p>
<h2 id="solidity-jian-dan-shi-li">Solidity 简单示例</h2>
<p>让我们从一个简单的 Solidity 源文件开始。<br />
以下是一个 Solidity 文件的示例</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.0 &lt;0.9.0;
</span><span>contract SimpleStorage {
</span><span>   uint storedData;
</span><span>
</span><span>   function set(uint x) public {
</span><span>      storedData = x;
</span><span>   }
</span><span>
</span><span>   function get() public view returns (uint) {
</span><span>      return storedData;
</span><span>   }
</span><span>}
</span></code></pre>
<h3 id="spdx-xu-ke-zheng-biao-shi-fu">SPDX 许可证标识符</h3>
<p>第一行是一个 <code>SPDX 许可证标识符</code></p>
<p>如果智能合约的源代码开源，则可以更好地建立对智能合约的信任。由于源代码的可用性总是涉及与版权有关的法律问题，因此Solidity编译器鼓励使用机器可读的SPDX许可证标识符。</p>
<p>每个源文件都应以注释开头，指示其许可证：</p>
<p><code>// SPDX-License-Identifier: MIT</code></p>
<p>编译器不会验证许可证是否属于 SPDX 允许的列表的一部分，但会在字节码元数据中包含提供的字符串。</p>
<p>如果您不想指定许可证或源代码不是开源的，请使用特殊值 <code>UNLICENSED</code><br />
请注意<code>UNLICENSED</code>（不允许使用，SPDX 许可证列表中不存在）不同于 <code>UNLICENSE</code>（向所有人授予所有权限）</p>
<p>编译器可以在文件级别的任何位置识别注释，但建议将其放在文件的顶部。</p>
<p>有关如何使用 SPDX 许可证标识符的详细信息，请访问 <a href="https://spdx.org/ids-how">SPDX</a> 网站。</p>
<h3 id="bian-yi-zhi-shi">编译指示</h3>
<p>第二行是一个<code>编译指示</code>，它告诉源代码是为 Solidity 版本 0.4.0 或任何更新的版本编写的，这些版本不会将功能分解到（但不包括 0.6.0 版本）。</p>
<h3 id="he-yue">合约</h3>
<p>一个合约类似在 C++、Java 中的一个 class ，它可以继承其他的合约或者被其他合约继承<br />
在合约内部可以保存状态变量(可以类比为成员变量)、也可以保存函数(可以类比为成员函数)</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>contract SimpleStorage {
</span><span>   ...
</span><span>}
</span></code></pre>
<h3 id="zhuang-tai-bian-liang-state-variables">状态变量  State Variables</h3>
<p>状态变量是其值永久存储在合约存储中的变量。</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.0 &lt;0.9.0;
</span><span>
</span><span>contract SimpleStorage {
</span><span>    uint storedData; // State variable
</span><span>    // ...
</span><span>}
</span></code></pre>
<h3 id="functions">functions</h3>
<p>函数是代码的可执行单元。函数通常在合约内部定义，但也可以在合约外部定义。</p>
<p>函数调用可以在内部或外部进行，并且对其他合约具有不同级别的可见性</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.7.1 &lt;0.9.0;
</span><span>
</span><span>contract SimpleAuction {
</span><span>    function bid() public payable { // Function
</span><span>        // ...
</span><span>    }
</span><span>}
</span><span>
</span><span>// Helper function defined outside of a contract
</span><span>function helper(uint x) pure returns (uint) {
</span><span>    return x * 2;
</span><span>}
</span></code></pre>
<h3 id="han-shu-xiu-shi-fu-function-modifiers">函数修饰符 Function Modifiers</h3>
<p>函数修饰符可用于以声明性方式修改函数的语义<br />
函数不支持重载，修饰符可以被覆盖</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.22 &lt;0.9.0;
</span><span>
</span><span>contract Purchase {
</span><span>    address public seller;
</span><span>
</span><span>    modifier onlySeller() { // Modifier
</span><span>        require(
</span><span>            msg.sender == seller,
</span><span>            &quot;Only seller can call this.&quot;
</span><span>        );
</span><span>        _;
</span><span>    }
</span><span>
</span><span>    function abort() public view onlySeller { // Modifier usage
</span><span>        // ...
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="shi-jian-events">事件 Events</h3>
<p>事件是与 EVM 日志记录工具的便捷接口</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.21 &lt;0.9.0;
</span><span>
</span><span>contract SimpleAuction {
</span><span>    event HighestBidIncreased(address bidder, uint amount); // Event
</span><span>
</span><span>    function bid() public payable {
</span><span>        // ...
</span><span>        emit HighestBidIncreased(msg.sender, msg.value); // Triggering event
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="jie-gou-ti-lei-xing-struct-types">结构体类型 Struct Types</h3>
<p>结构是自定义的类型，可以对多个变量进行分组</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.0 &lt;0.9.0;
</span><span>
</span><span>contract Ballot {
</span><span>    struct Voter { // Struct
</span><span>        uint weight;
</span><span>        bool voted;
</span><span>        address delegate;
</span><span>        uint vote;
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="cuo-wu-error">错误 Error</h3>
<p>error 允许为故障情况定义描述性名称和数据，error 可以在revert 中使用<br />
这比字符串要便宜很多，同时可以对其他数据编码</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity ^0.8.4;
</span><span>
</span><span>/// Not enough funds for transfer. Requested `requested`,
</span><span>/// but only `available` available.
</span><span>error NotEnoughFunds(uint requested, uint available);
</span><span>
</span><span>contract Token {
</span><span>    mapping(address =&gt; uint) balances;
</span><span>    function transfer(address to, uint amount) public {
</span><span>        uint balance = balances[msg.sender];
</span><span>        if (balance &lt; amount)
</span><span>            revert NotEnoughFunds(amount, balance);
</span><span>        balances[msg.sender] -= amount;
</span><span>        balances[to] += amount;
</span><span>        // ...
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="mei-ju-lei-xing-enum-types">枚举类型  Enum Types</h3>
<p>枚举可用于创建具有一组有限的“常量值”的自定义类型</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.0 &lt;0.9.0;
</span><span>
</span><span>contract Purchase {
</span><span>    enum State { Created, Locked, Inactive } // Enum
</span><span>}
</span></code></pre>

    </article>
  </div>




        </div>
        
        <div class="col-4">
          <div class="card mb-3" style="max-width: 360px;">
            <div class="row g-0">
              <div class="col-md-4">
                <img src="..." class="img-fluid rounded-start" alt="...">
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <h5 class="card-title">不霁何虹</h5>
                  <p class="card-text">Web3.0 builder Move developer</p>
                  <p class="card-text"><small class="text-muted"></small></p>
                </div>
              </div>
            </div>
          </div>

          


          <div class="position-sticky" style="top: 2rem;">
            <nav id="navbar-example3" class="h-100 flex-column align-items-stretch pe-4 border-end"  style="background-color: #ffffff;">
              <nav class="nav nav-pills flex-column">
                
                  <a class="nav-link" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#shi-yao-shi-yi-tai-fang">什么是以太坊？</a>
                  
                
                  <a class="nav-link" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#yi-tai-fang-xu-ni-ji-evm">以太坊虚拟机 （EVM）</a>
                  
                
                  <a class="nav-link" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#shi-yao-shi-zhi-neng-he-yue">什么是智能合约？</a>
                  
                
                  <a class="nav-link" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#solidity-jian-dan-shi-li">Solidity 简单示例</a>
                  
                    <nav class="nav nav-pills flex-column">
                    
                      <a class="nav-link ms-3 my-1" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#spdx-xu-ke-zheng-biao-shi-fu">SPDX 许可证标识符</a>
                    
                      <a class="nav-link ms-3 my-1" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#bian-yi-zhi-shi">编译指示</a>
                    
                      <a class="nav-link ms-3 my-1" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#he-yue">合约</a>
                    
                      <a class="nav-link ms-3 my-1" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#zhuang-tai-bian-liang-state-variables">状态变量  State Variables</a>
                    
                      <a class="nav-link ms-3 my-1" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#functions">functions</a>
                    
                      <a class="nav-link ms-3 my-1" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#han-shu-xiu-shi-fu-function-modifiers">函数修饰符 Function Modifiers</a>
                    
                      <a class="nav-link ms-3 my-1" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#shi-jian-events">事件 Events</a>
                    
                      <a class="nav-link ms-3 my-1" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#jie-gou-ti-lei-xing-struct-types">结构体类型 Struct Types</a>
                    
                      <a class="nav-link ms-3 my-1" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#cuo-wu-error">错误 Error</a>
                    
                      <a class="nav-link ms-3 my-1" href="https://wgb5445.github.io/zolablog/blog/blockchain/ETH/Solidity/solidity-1-getting-started/#mei-ju-lei-xing-enum-types">枚举类型  Enum Types</a>
                    
                  
                
              </nav>
            </nav>
          </div>





          
          
        </div>
      </div>
    </div>
  </div>
  

</body>

</html>