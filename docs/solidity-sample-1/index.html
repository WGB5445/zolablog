<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <!-- Enable responsiveness on mobile devices-->
    <!-- viewport-fit=cover is to support iPhone X rounded corners and notch in landscape-->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover"
    />

    <title>不霁何虹的博客</title>

    <!-- favicon -->
    
    <link
      rel="icon"
      type="image/x-icon"
      href="https:&#x2F;&#x2F;arweave.net&#x2F;mFFcgeIoLnhzQDYAHTYHkQ1eEYVwO9XvU7GitAUnq4U"
    />
    
    <!-- CSS -->
    <!-- <link rel="stylesheet" href="https://wgb5445.github.io/zolablog/print.css" media="print"> -->
    <link rel="stylesheet" href="https://wgb5445.github.io/zolablog/style.css">
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"
    />

      

    
  </head>

  <body
    class=" max-w-6xl min-w-[15.625rem] mx-auto min-h-[100vh] px-2 py-4 break-words duration-1000 text-brief-font-color"
  >

    
    <div
      class="px-9 rounded-lg shadow-brief hover:shadow-[rgba(7,17,27,0.1)]"
    >
      <nav>
        <div class="h-full flex flex-row justify-between items-center text-sm py-4">
          <span class="font-semibold text-lg">
            <a id="site-name" href="/">不霁何虹的博客</a>
          </span>
          <div id="menus">
            <div class="hidden md:flex flex-row justify-between gap-4">
              <div class="menus_item">
                
                <a
                  class="site-page"
                  aria-current="page"
                  href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog/"
                  >Home</a
                >
                
              </div><div class="menus_item">
                
                <a
                  class="site-page"
                  aria-current="page"
                  href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog/tags"
                  >Tags</a
                >
                
              </div><div class="menus_item">
                
                <a
                  class="site-page"
                  aria-current="page"
                  href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog/categories"
                  >Categories</a
                >
                
              </div><div class="menus_item">
                
                <a
                  class="site-page"
                  aria-current="page"
                  href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog/link"
                  >Link</a
                >
                
              </div><div class="menus_item">
                
                <a
                  class="site-page"
                  aria-current="page"
                  href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog/about"
                  >About</a
                >
                
              </div>
            </div>
            <div class="md:hidden flex items-center">
              <button id="mobile-menu-button">
                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
              </button>
            </div>
          </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden">
          <div class="">
                
                <a
                  class="block py-2 px-4 text-sm hover:bg-gray-200"
                  aria-current="page"
                  href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog/"
                  >Home</a
                >
                
              </div><div class="">
                
                <a
                  class="block py-2 px-4 text-sm hover:bg-gray-200"
                  aria-current="page"
                  href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog/tags"
                  >Tags</a
                >
                
              </div><div class="">
                
                <a
                  class="block py-2 px-4 text-sm hover:bg-gray-200"
                  aria-current="page"
                  href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog/categories"
                  >Categories</a
                >
                
              </div><div class="">
                
                <a
                  class="block py-2 px-4 text-sm hover:bg-gray-200"
                  aria-current="page"
                  href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog/link"
                  >Link</a
                >
                
              </div><div class="">
                
                <a
                  class="block py-2 px-4 text-sm hover:bg-gray-200"
                  aria-current="page"
                  href="https:&#x2F;&#x2F;wgb5445.github.io&#x2F;zolablog/about"
                  >About</a
                >
                
              </div>
        </div>
      </nav>
    </div>
     
    <main
      class="max-w-6xl flex w-full gap-4 pt-10 transition-all duration-300 ease-in-out"
    >
       
<div
  class="flex w-full rounded-lg transition-all duration-700 shadow-brief hover:shadow-[rgba(7,17,27,0.1)]"
>
  <div class="flex flex-col py-12 pl-10 pr-4 prose lg:prose-base max-w-none">
    <h1
      class="box-border pt-6 pb-4 border-solid border-b border-background-gray"
    >
      Solidity-1 简要概述
    </h1>
    <div class="w-full flex flex-col break-words flex-nowrap">
      <div class="">
        <span class="">Created</span>
        <time datetime="2022-07-10"
          >2022-07-10</time
        >

        <span class="">|</span>
        <span class="">Updated</span>
        
        <time datetime="2022-07-10"
          >2022-07-10</time
        >
        
      </div>
    </div>
    <article class="px-4" id="article-container">
      <p>Solidity 是一种面向合约的高级编程语言，用于实现智能合约。Solidity 受到 C++，Python和JavaScript 的影响，旨在针对以太坊虚拟机（EVM）。</p>
<h2 id="shi-yao-shi-yi-tai-fang">什么是以太坊？</h2>
<p>以太坊是一个分布式的区块链平台可以运行智能合约，可以编写按照编程运行的应用程序。</p>
<h2 id="yi-tai-fang-xu-ni-ji-evm">以太坊虚拟机 （EVM）</h2>
<p>以太坊虚拟机，也称为 EVM ，是以太坊智能合约的运行时环境。以太坊虚拟机专注于提供安全性，并由世界各地的计算机执行不受信任的代码。</p>
<p>EVM专门防止拒绝服务攻击，并确保程序无法访问彼此的状态，确保可以在没有任何潜在干扰的情况下建立通信。</p>
<p>以太坊虚拟机被设计为基于以太坊的智能合约的运行时环境。</p>
<h2 id="shi-yao-shi-zhi-neng-he-yue">什么是智能合约？</h2>
<p>智能合约是一种计算机协议，旨在以数字方式促进，验证或执行合同的谈判或履行。智能合约允许在没有第三方的情况下执行可信的交易。这些交易是可跟踪和不可逆的。</p>
<h2 id="solidity-jian-dan-shi-li">Solidity 简单示例</h2>
<p>让我们从一个简单的 Solidity 源文件开始。<br />
以下是一个 Solidity 文件的示例</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.0 &lt;0.9.0;
</span><span>contract SimpleStorage {
</span><span>   uint storedData;
</span><span>
</span><span>   function set(uint x) public {
</span><span>      storedData = x;
</span><span>   }
</span><span>
</span><span>   function get() public view returns (uint) {
</span><span>      return storedData;
</span><span>   }
</span><span>}
</span></code></pre>
<h3 id="spdx-xu-ke-zheng-biao-shi-fu">SPDX 许可证标识符</h3>
<p>第一行是一个 <code>SPDX 许可证标识符</code></p>
<p>如果智能合约的源代码开源，则可以更好地建立对智能合约的信任。由于源代码的可用性总是涉及与版权有关的法律问题，因此Solidity编译器鼓励使用机器可读的SPDX许可证标识符。</p>
<p>每个源文件都应以注释开头，指示其许可证：</p>
<p><code>// SPDX-License-Identifier: MIT</code></p>
<p>编译器不会验证许可证是否属于 SPDX 允许的列表的一部分，但会在字节码元数据中包含提供的字符串。</p>
<p>如果您不想指定许可证或源代码不是开源的，请使用特殊值 <code>UNLICENSED</code><br />
请注意<code>UNLICENSED</code>（不允许使用，SPDX 许可证列表中不存在）不同于 <code>UNLICENSE</code>（向所有人授予所有权限）</p>
<p>编译器可以在文件级别的任何位置识别注释，但建议将其放在文件的顶部。</p>
<p>有关如何使用 SPDX 许可证标识符的详细信息，请访问 <a href="https://spdx.org/ids-how">SPDX</a> 网站。</p>
<h3 id="bian-yi-zhi-shi">编译指示</h3>
<p>第二行是一个<code>编译指示</code>，它告诉源代码是为 Solidity 版本 0.4.0 或任何更新的版本编写的，这些版本不会将功能分解到（但不包括 0.6.0 版本）。</p>
<h3 id="he-yue">合约</h3>
<p>一个合约类似在 C++、Java 中的一个 class ，它可以继承其他的合约或者被其他合约继承<br />
在合约内部可以保存状态变量(可以类比为成员变量)、也可以保存函数(可以类比为成员函数)</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>contract SimpleStorage {
</span><span>   ...
</span><span>}
</span></code></pre>
<h3 id="zhuang-tai-bian-liang-state-variables">状态变量  State Variables</h3>
<p>状态变量是其值永久存储在合约存储中的变量。</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.0 &lt;0.9.0;
</span><span>
</span><span>contract SimpleStorage {
</span><span>    uint storedData; // State variable
</span><span>    // ...
</span><span>}
</span></code></pre>
<h3 id="functions">functions</h3>
<p>函数是代码的可执行单元。函数通常在合约内部定义，但也可以在合约外部定义。</p>
<p>函数调用可以在内部或外部进行，并且对其他合约具有不同级别的可见性</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.7.1 &lt;0.9.0;
</span><span>
</span><span>contract SimpleAuction {
</span><span>    function bid() public payable { // Function
</span><span>        // ...
</span><span>    }
</span><span>}
</span><span>
</span><span>// Helper function defined outside of a contract
</span><span>function helper(uint x) pure returns (uint) {
</span><span>    return x * 2;
</span><span>}
</span></code></pre>
<h3 id="han-shu-xiu-shi-fu-function-modifiers">函数修饰符 Function Modifiers</h3>
<p>函数修饰符可用于以声明性方式修改函数的语义<br />
函数不支持重载，修饰符可以被覆盖</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.22 &lt;0.9.0;
</span><span>
</span><span>contract Purchase {
</span><span>    address public seller;
</span><span>
</span><span>    modifier onlySeller() { // Modifier
</span><span>        require(
</span><span>            msg.sender == seller,
</span><span>            &quot;Only seller can call this.&quot;
</span><span>        );
</span><span>        _;
</span><span>    }
</span><span>
</span><span>    function abort() public view onlySeller { // Modifier usage
</span><span>        // ...
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="shi-jian-events">事件 Events</h3>
<p>事件是与 EVM 日志记录工具的便捷接口</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.21 &lt;0.9.0;
</span><span>
</span><span>contract SimpleAuction {
</span><span>    event HighestBidIncreased(address bidder, uint amount); // Event
</span><span>
</span><span>    function bid() public payable {
</span><span>        // ...
</span><span>        emit HighestBidIncreased(msg.sender, msg.value); // Triggering event
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="jie-gou-ti-lei-xing-struct-types">结构体类型 Struct Types</h3>
<p>结构是自定义的类型，可以对多个变量进行分组</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.0 &lt;0.9.0;
</span><span>
</span><span>contract Ballot {
</span><span>    struct Voter { // Struct
</span><span>        uint weight;
</span><span>        bool voted;
</span><span>        address delegate;
</span><span>        uint vote;
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="cuo-wu-error">错误 Error</h3>
<p>error 允许为故障情况定义描述性名称和数据，error 可以在revert 中使用<br />
这比字符串要便宜很多，同时可以对其他数据编码</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity ^0.8.4;
</span><span>
</span><span>/// Not enough funds for transfer. Requested `requested`,
</span><span>/// but only `available` available.
</span><span>error NotEnoughFunds(uint requested, uint available);
</span><span>
</span><span>contract Token {
</span><span>    mapping(address =&gt; uint) balances;
</span><span>    function transfer(address to, uint amount) public {
</span><span>        uint balance = balances[msg.sender];
</span><span>        if (balance &lt; amount)
</span><span>            revert NotEnoughFunds(amount, balance);
</span><span>        balances[msg.sender] -= amount;
</span><span>        balances[to] += amount;
</span><span>        // ...
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="mei-ju-lei-xing-enum-types">枚举类型  Enum Types</h3>
<p>枚举可用于创建具有一组有限的“常量值”的自定义类型</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>// SPDX-License-Identifier: GPL-3.0
</span><span>pragma solidity &gt;=0.4.0 &lt;0.9.0;
</span><span>
</span><span>contract Purchase {
</span><span>    enum State { Created, Locked, Inactive } // Enum
</span><span>}
</span></code></pre>

    </article>
  </div>
</div>
 
<div
  class="min-w-[13.75rem] max-w-xs flex-col transition-all duration-700 hidden lg:block"
>
  <div
    class="flex flex-col gap-2 justify-center items-center py-6 px-5 rounded-lg shadow-brief hover:shadow-[rgba(7,17,27,0.1)]"
  >
    <div id="info">
         
      
<img
  class="h-28 w-28 rounded-full object-cover"
  src="https:&#x2F;&#x2F;bafkreigk6ekvsnbt4xdczonof7u3rlw2ton4lbszgwxosz2a24jiwc364y.ipfs.infura-ipfs.io&#x2F;"
  onerror="https:&#x2F;&#x2F;bafkreigk6ekvsnbt4xdczonof7u3rlw2ton4lbszgwxosz2a24jiwc364y.ipfs.infura-ipfs.io&#x2F;"
  alt="avatar"
/>
    </div>
    <div id="info-data" class="text-lg font-medium">
          不霁何虹
    </div>
    <a id="info-description" class="-mt-1">
         
      A brief blog theme
    </a>
    <div id="info-social-icons">
      
    </div>
  </div>
  <div id="card-announcement"></div>
  <div id="sticky_layout" class="flex flex-col mt-7 sticky top-2 gap-4">
    
<div
  id="toc"
  aria-hidden="true"
  class="text-sm rounded-lg px-2 py-6 shadow-brief hover:shadow-[rgba(7,17,27,0.1)]"
>
  
  <ul class="list-inside list-disc">
    
    <li>
      <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#shi-yao-shi-yi-tai-fang">什么是以太坊？</a>
      
    </li>
    
    <li>
      <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#yi-tai-fang-xu-ni-ji-evm">以太坊虚拟机 （EVM）</a>
      
    </li>
    
    <li>
      <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#shi-yao-shi-zhi-neng-he-yue">什么是智能合约？</a>
      
    </li>
    
    <li>
      <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#solidity-jian-dan-shi-li">Solidity 简单示例</a>
      
      <ul class="list-inside list-disc">
        
        <li>
          <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#spdx-xu-ke-zheng-biao-shi-fu">SPDX 许可证标识符</a>
        </li>
        
        <li>
          <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#bian-yi-zhi-shi">编译指示</a>
        </li>
        
        <li>
          <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#he-yue">合约</a>
        </li>
        
        <li>
          <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#zhuang-tai-bian-liang-state-variables">状态变量  State Variables</a>
        </li>
        
        <li>
          <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#functions">functions</a>
        </li>
        
        <li>
          <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#han-shu-xiu-shi-fu-function-modifiers">函数修饰符 Function Modifiers</a>
        </li>
        
        <li>
          <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#shi-jian-events">事件 Events</a>
        </li>
        
        <li>
          <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#jie-gou-ti-lei-xing-struct-types">结构体类型 Struct Types</a>
        </li>
        
        <li>
          <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#cuo-wu-error">错误 Error</a>
        </li>
        
        <li>
          <a href="https://wgb5445.github.io/zolablog/solidity-sample-1/#mei-ju-lei-xing-enum-types">枚举类型  Enum Types</a>
        </li>
        
      </ul>
      
    </li>
    
  </ul>
  
</div>

    <div
      id="card-recent-post"
      class="rounded-lg py-6 px-5 shadow-brief hover:shadow-[rgba(7,17,27,0.1)]"
    >
      <div id="item-headline" class="text-lg font-medium line-clamp-2">
        <span>最新文章</span>
      </div>
      <div id="aside-list" class="flex flex-col gap-5 mt-5">
        
<div id="aside-list-item">
  <a class="thumbnail"></a>
  <div id="content" class="flex flex-col text-base">
    <a class="title" href="https://wgb5445.github.io/zolablog/solid-js-1/" title="用 Solidjs 搭建第一个网页">
      用 Solidjs 搭建第一个网页
    </a>
    <time id="time" class="text-xs text-gray" datetime="2023-07-22T19:04:23"
      >2023-07-22</time
    >
  </div>
</div>
        
<div id="aside-list-item">
  <a class="thumbnail"></a>
  <div id="content" class="flex flex-col text-base">
    <a class="title" href="https://wgb5445.github.io/zolablog/aptos-move-1/" title="Aptos Move Tutorial 1">
      Aptos Move Tutorial 1
    </a>
    <time id="time" class="text-xs text-gray" datetime="2023-07-18T23:57:05"
      >2023-07-18</time
    >
  </div>
</div>
        
<div id="aside-list-item">
  <a class="thumbnail"></a>
  <div id="content" class="flex flex-col text-base">
    <a class="title" href="https://wgb5445.github.io/zolablog/solidity-sample-1/" title="Solidity-1 简要概述">
      Solidity-1 简要概述
    </a>
    <time id="time" class="text-xs text-gray" datetime="2022-07-10"
      >2022-07-10</time
    >
  </div>
</div>
        
<div id="aside-list-item">
  <a class="thumbnail"></a>
  <div id="content" class="flex flex-col text-base">
    <a class="title" href="https://wgb5445.github.io/zolablog/rust-windows-install/" title="Windows 上用国内源安装Rust">
      Windows 上用国内源安装Rust
    </a>
    <time id="time" class="text-xs text-gray" datetime="2022-05-08T08:57:59"
      >2022-05-08</time
    >
  </div>
</div>
      </div>
    </div>
  </div>
</div>
 
    </main>
     
<footer class="flex justify-center w-full">
  <div class="box-border w-full border-t mt-10 border-solid border-blue">
    <div class="flex flex-col justify-center items-center mt-5">
      <div id="footer-copyright">©2020 - 2023 By 不霁何虹</div>
      <div id="footer-framework-info">
        <span
          >Power By
          <a class="underline" href="https://www.getzola.org/" target="_blank"
            >Zola</a
          ></span
        >
        <span id="footer-separator">|</span>
        <span
          >Theme
          <a
            class="underline"
            href="https://github.com/WGB5445/zola_brief_theme"
            target="_blank"
            >Brief</a
          ></span
        >
      </div>
    </div>
  </div>
</footer>



    <script>
      const btn = document.querySelector("#mobile-menu-button");
      const menu = document.querySelector("#mobile-menu");
  
      // add event listeners
      btn.addEventListener("click", () => {
        console.log("sdfadfaf")
        menu.classList.toggle("hidden");
      });
  
    </script>
  </body>
</html>
